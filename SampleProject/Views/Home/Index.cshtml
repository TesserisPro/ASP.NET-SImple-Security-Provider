@using Tesseris.Web.SimpleSecurity

@{
    ViewBag.Title = "Home Page";
    Layout = "~/Views/_Layout.cshtml";
}

<div class="container">

    <div class="masthead">
        <h3 class="text-muted">ASP.NET Simple Security Provider</h3>
        <ul class="nav nav-justified">
            <li class="active"><a href="#">Home</a></li>
            <li><a href="http://github.com/TesserisPro/ASP.NET-SImple-Security-Provider">Git Hub</a></li>
            <li><a href="http://www.tesseris.com/Home/Services">Services</a></li>
            <li><a href="https://github.com/TesserisPro/ASP.NET-SImple-Security-Provider/releases">Releases</a></li>
            <li><a href="http://www.tesseris.com">About</a></li>
            <li><a href="http://www.tesseris.com/Home/Contacts">Contact</a></li>
        </ul>
    </div>

    <!-- Jumbotron -->
    <div>
        <h2>It's sample content page for ASP.NET Simple Security Provider</h2>
        <br />
        <div class="row">
            <div class="col-lg-6">
                <p>@Html.ActionLink("Logout", "Logout", "Account", new { }, new { @class = "btn btn-lg btn-success" })</p>
                <p>@Html.ActionLink("Unregister current user", "Unregister", "Account", new { }, new { @class = "btn btn-lg btn-danger" })</p>
                <p>@Html.ActionLink("Register new user", "Register", "Account", new { }, new { @class = "btn btn-lg btn-primary" })</p>
                <!-- Get current user by JS  -->
                <h2><label>Current user retrived by JS:</label> <span id="userName"></span></h2>

                <script type="text/javascript">
                    function getUserName() {
                        var name = "auth.user=";
                        var ca = document.cookie.split(';');
                        for (var i = 0; i < ca.length; i++) {
                            var c = ca[i];
                            while (c.charAt(0) == ' ') c = c.substring(1);
                            if (c.indexOf(name) != -1) return c.substring(name.length, c.length);
                        }
                        return "";
                    }

                    $("#userName").html(getUserName());

                </script>
            </div>
            <div class="col-lg-6">
                <div class="panel panel-default">
                    <div class="panel-heading">
                        <h3 class="panel-title">Registered users list</h3>
                    </div>
                    <div class="panel-body">
                        <ul class="list-group">
                            @foreach (var user in SimpleSecurityProvider.Current.GetRegisteredUsers())
                            {
                                <li class="list-group-item">@user.Identity.Name</li>
                            }
                        </ul>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Example row of columns -->
    <div class="row">
        <div class="col-lg-4">
            <h2>Simple</h2>
            <p>Donec id elit non mi porta gravida at eget metus. Fusce dapibus, tellus ac cursus commodo, tortor mauris condimentum nibh, ut fermentum massa justo sit amet risus. Etiam porta sem malesuada magna mollis euismod. Donec sed odio dui. </p>
            <p><a class="btn btn-primary" href="http://github.com/TesserisPro/ASP.NET-SImple-Security-Provider" role="button">View details &raquo;</a></p>
        </div>
        <div class="col-lg-4">
            <h2>Customizable</h2>
            <p>Donec id elit non mi porta gravida at eget metus. Fusce dapibus, tellus ac cursus commodo, tortor mauris condimentum nibh, ut fermentum massa justo sit amet risus. Etiam porta sem malesuada magna mollis euismod. Donec sed odio dui. </p>
            <p><a class="btn btn-primary" href="http://github.com/TesserisPro/ASP.NET-SImple-Security-Provider" role="button">View details &raquo;</a></p>
        </div>
        <div class="col-lg-4">
            <h2>Open source</h2>
            <p>Donec sed odio dui. Cras justo odio, dapibus ac facilisis in, egestas eget quam. Vestibulum id ligula porta felis euismod semper. Fusce dapibus, tellus ac cursus commodo, tortor mauris condimentum nibh, ut fermentum massa.</p>
            <p><a class="btn btn-primary" href="http://github.com/TesserisPro/ASP.NET-SImple-Security-Provider" role="button">View details &raquo;</a></p>
        </div>
    </div>

    <!-- Site footer -->
    <div class="footer">
        <p>&copy; Tesseris Pro LLC 2014</p>
    </div>

</div> <!-- /container -->
